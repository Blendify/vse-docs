

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2.2. Basic techniques &mdash; VSE 2.93 documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.2.1. Adding" href="adding/adding.html" />
    <link rel="prev" title="2.1.3. Scrub" href="../timeline/scrub/scrub.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> VSE 2.93 documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../setup/setup.html">1. Setup your project</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../edit.html">2. Edit your project</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../timeline/timeline.html">2.1. Timeline basics</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.2. Basic techniques</a><ul>
<li class="toctree-l3"><a class="reference internal" href="adding/adding.html">2.2.1. Adding</a></li>
<li class="toctree-l3"><a class="reference internal" href="cutting/cutting.html">2.2.2. Cutting</a></li>
<li class="toctree-l3"><a class="reference internal" href="moving/moving.html">2.2.3. Moving</a></li>
<li class="toctree-l3"><a class="reference internal" href="trimming/trimming.html">2.2.4. Trimming</a></li>
<li class="toctree-l3"><a class="reference internal" href="grouping/grouping.html">2.2.5. Grouping</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../effects/effects.html">2.3. Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/sound.html">2.4. Edit your sound</a></li>
<li class="toctree-l2"><a class="reference internal" href="../color-grading/color-grading.html">2.5. Color grading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../render/render.html">3. Render your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workflow/workflow.html">4. Specific workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extra-tools/extra-tools.html">5. Extra tools</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VSE 2.93 documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../edit.html"><span class="section-number">2. </span>Edit your project</a> &raquo;</li>
        
      <li><span class="section-number">2.2. </span>Basic techniques</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/edit/basic-techniques/basic-techniques.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="basic-techniques">
<h1><span class="section-number">2.2. </span>Basic techniques<a class="headerlink" href="#basic-techniques" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="adding/adding.html">2.2.1. Adding</a></li>
<li class="toctree-l1"><a class="reference internal" href="cutting/cutting.html">2.2.2. Cutting</a></li>
<li class="toctree-l1"><a class="reference internal" href="moving/moving.html">2.2.3. Moving</a></li>
<li class="toctree-l1"><a class="reference internal" href="trimming/trimming.html">2.2.4. Trimming</a></li>
<li class="toctree-l1"><a class="reference internal" href="grouping/grouping.html">2.2.5. Grouping</a></li>
</ul>
</div>
<p>Video editing is like editing a book chapter. Adding some text, shuffling around a few paragraphs, shortening here and there … and so on. The editing of video files is mostly done by changing the time codes. Blender keeps track of several time codes. Some - but not all - are exposed in the sidebar under the Strip &gt; Time panel (see figure 1).</p>
<div class="figure align-default" id="id13">
<img alt="Time properties" src="../../_images/time_code.svg" /><p class="caption"><span class="caption-text">Figure 1: Time properties of a Movie strip.</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<p>With these time codes, Blender can calculate and draw the strip bars in the Preview section of the Sequencer.  The most important ones are of course <em>Start</em> and <em>Duration</em>. The <em>Start</em> field marks the position (frame number) from which all further calculations are done. The <em>Duration</em> is the number of frames of this strip.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <em>Start</em> field is NOT the same as the actual start of a strip; the position that you see in the Preview. It is the original start position of a strip that is not trimmed or cut. If you’ve added a strip at frame 5 and later on you trimmed that strip with a Start offset of +7 frames, then the visible strip will start at frame 12 but the <em>Start</em> field still says frame 5 (see figure 1).</p>
<p>The <em>Duration</em> field however shows the actual duration. If a strip is trimmed or cut, this field will not show the original <em>Duration</em> but the Duration as you can see it in the Preview.</p>
</div>
<p>With the <em>Start</em> and the <em>Duration</em> the <em>End</em> field can be calculated.  This is what Blender insinuates by making this field non-editable. However, there is no reason for that and changing this field could for example result in the recalculation of the <em>Duration</em>.</p>
<p>In figure 1, the original strip has a <em>Duration</em> of 30 frames. It starts as frame 5; so the <em>end</em> should be at frame 35. Because there is some trimming, the actual start is at frame 12: <em>Start</em> + <em>Strip Offset Start</em>. The actual end is at frame 27 <em>(Original) End</em> - <em>Strip Offset End</em>. The (actual) <em>Duration</em> is thus 15 frames: <em>(Actual) End - (Actual) Start</em>. The Offset values could be made visible in the Preview as small blue bars with the Show Overlays button (tp right in figure 1).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The naming of the fields in the previous paragraph is not quite accurate. There isn’t any field with the name <em>Actual Start</em>. On the other hand, Blender’s naming system isn’t also very logical. You can look up the name of every Python generated field by enabling Developer Extras, User Tooltips and Python Tooltips in the Blender Preferences &gt; Interface &gt; Display. Hovering over the field in the UI, e.g. <cite>Hold Offset Start</cite>, will show you the name of the Python field, e.g. <cite>Python: MovieSequence.animation_offset_start</cite>. For the active (selected) strip, you can print the value of every field in the Python Interactive Console with the following command (in this example the frame_start field is returned).</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">bpy.context.scene.sequence_editor.active_strip.frame_start</span></code></p>
<p>Table 1 shows all the available time codes. The second column is the name from the sidebar and the third column is the name from the Python API.</p>
<table class="colwidths-given docutils align-default" id="id14">
<caption><span class="caption-text">Table 1: Time code fields in UI and from Python API</span><a class="headerlink" href="#id14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 5%" />
<col style="width: 48%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#</p></th>
<th class="head"><p>UI field</p></th>
<th class="head"><p>Python API (1)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Channel (2)</p></td>
<td><p>channel</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Start</p></td>
<td><p>frame_start</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><em>Visible in strip (3)</em></p></td>
<td><p>frame_final_start</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Duration</p></td>
<td><p>frame_final_duration</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td></td>
<td><p>frame_duration</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>End</p></td>
<td><p>frame_final_end</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Strip Offset Start</p></td>
<td><p>frame_offset_start</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>Strip Offset End</p></td>
<td><p>frame_offset_end</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>Hold Offset Start</p></td>
<td><p>animation_offset_start</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>Hold Offset End</p></td>
<td><p>animation_offset_end</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>Current Frame</p></td>
<td><p><em>calculated (4)</em></p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td></td>
<td><p>frame_still_start</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td></td>
<td><p>frame_still_end</p></td>
</tr>
</tbody>
</table>
<p>If you want to see those values in the side panel, you’ll have to extend some code; It’s rather easy. Right-click on a timecode filed, e.g. Hold Offset Start and choose “Edit Source”. Switch to the text editor in the Scripting workspace, and open the “space_sequencer.py” code (with the Browse Text to be linked button at the top middle). Search in this code for the string “Hold Offset Start”. It is about line 1605 (Blender 2.93). Here is the code for the display of the different time codes. Add the following code to display the Still Offset field.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">split</span> <span class="o">=</span> <span class="n">sub</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">factor</span><span class="o">=</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">max_factor</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">split</span><span class="o">.</span><span class="n">alignment</span> <span class="o">=</span> <span class="s1">&#39;RIGHT&#39;</span>
<span class="n">split</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Still Offset Start&quot;</span><span class="p">)</span>
<span class="n">split</span><span class="o">.</span><span class="n">prop</span><span class="p">(</span><span class="n">strip</span><span class="p">,</span> <span class="s2">&quot;frame_still_start&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">smpte_from_frame</span><span class="p">(</span><span class="n">strip</span><span class="o">.</span><span class="n">frame_still_start</span><span class="p">))</span>

<span class="n">split</span> <span class="o">=</span> <span class="n">sub</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">factor</span><span class="o">=</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">max_factor</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">split</span><span class="o">.</span><span class="n">alignment</span> <span class="o">=</span> <span class="s1">&#39;RIGHT&#39;</span>
<span class="n">split</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;End&quot;</span><span class="p">)</span>
<span class="n">split</span><span class="o">.</span><span class="n">prop</span><span class="p">(</span><span class="n">strip</span><span class="p">,</span> <span class="s2">&quot;frame_still_end&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">smpte_from_frame</span><span class="p">(</span><span class="n">strip</span><span class="o">.</span><span class="n">frame_still_end</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>(2)</strong> The Channel info is shown in the Time Panel but is, of course, not a time code and belongs perhaps better in the Compositing panel.</p>
<p><strong>(3)</strong> Some Python fields are not exposed in the side panel but can be made visible within the strip itself; e.g. <cite>frame_final_start</cite> is shown at the left border of the strip when you select that strip.</p>
<p><strong>(4)</strong> The <cite>Current Frame</cite> is not a Python API field on its own but is calculated from <cite>scene.frame_current - frame_final_start</cite>.</p>
<p>Movie strips, Sound strips, Scene strips and Image/Sequence strips all share the same time code properties (see <a class="reference internal" href="../../setup/organize/strip-types/blender-striptypes.html"><span class="doc">Striptypes</span></a>. Color and Text Strips and Adjustment Layers expose only 5 fields: Channel, Start, Duration, End, and Current Frame. There is no need for the Offset fields. Effect strips such as Speed control and Transform do not have time codes on their own. Their timing is controlled by the parent strip.</p>
<p>But why all those time codes? Why do you need them? And what do they mean? Let’s begin with the most basic case.</p>
<p><em>1. Start</em></p>
<blockquote>
<div><p><cite>Start = frame_start:</cite> the start position (frame number) of the un-edited (un-trimmed, un-cut) strip.
<cite>finale_frame_start:</cite> the start position (frame number) of the strip after editing.</p>
</div></blockquote>
<ol class="arabic simple">
<li><p>First and foremost, the <cite>Start</cite> field is NOT the same as the actual start of a strip. It is the original start position of a strip that is not trimmed or cut. If you’ve added a strip at frame 10 and later on you trimmed that strip with an offset of +2 frames, then the visible strip will start at frame 12 see fig. 2). It’s a bit confusing because you see the strip starting at frame 12 in the timeline, while the <cite>Start`field still says frame 10. The `Start`field is stored in Python as `frame_start</cite>.</p></li>
</ol>
<div class="figure align-default" id="id15">
<a class="reference internal image-reference" href="edit\basic-techniques\img/time_properties/time_properties_2.png"><img alt="Strip with Start offset = 2" src="edit\basic-techniques\img/time_properties/time_properties_2.png" /></a>
<p class="caption"><span class="caption-text">Figure 2: Strip with Start offset = 2</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="2">
<li><p>The field is shown as a SMPTE-timecode, followed by a frame number. A SMPTE-timecode is a standard format, adopted by the Society of Motion Picture and Television Engineers (SMPTE) in the late 1960’s. It is in the format of HH:MM:SS:FF.You cannot enter the SMPTE time code directly in Blender, you have to enter the frame number. The conversion from frame to SMPTE code is done by a Python function smpte_from_frame. This function takes one parameter (the frame number) and converts it to a timecode.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>The actual start or frame_final_start in Python parlance is also shown at the left border of the strip when selected.</p></li>
<li><p>You cannot add a strip before frame 0 (because the play head cannot be moved before frame 0) but you can move it later on. You can add however add a strip past the scene range.</p></li>
<li><p>You can change the <cite>Start</cite> field by entering a frame number or by dragging the strip to another location even before frame zero. The Start field becomes then negative.</p></li>
<li><p>The first (and last frame) are drawn with a special visual marker, the so-called strip handles. The size and shape of these handles have changed quite a few times. (see for example <a class="reference external" href="https://developer.blender.org/D10297">D10297</a>. You need these handles to change the position of the first and last (visible) frame (by dragging).</p></li>
</ol>
<p>## 2. Duration</p>
<p>&gt;`Duration/Frame_duration:` the original duration in frames of the freshly added, un-edited strip.
&gt;`final_frame_duration:` the duration of the actual strip, which can be edited (trimmed, …). The duration that you actually see as the bar length in the VSE.</p>
<ol class="arabic simple">
<li><p>Initially the duration field is set by he number of frames of the added movie. Seems straight forward, isn’t it? However, what about strips with a different frame rate (fps)? Suppose that you have created two test-files, both of 10 seconds long, but one with fps = 30 (thus in total 300 frames) and one with fps = 24 (thus, in total 240 frames but still 10 s). Both movies should have a duration of 10 seconds to play at the speed as intended. You can create these test-files quite easily in ffmpeg; [see post](test_files.md). Depending on which movie you added first, the project frame rate will be set to 30 or 24 fps. If the project is 30 fps, then the 24fps test file will only take 8 seconds to finish (8 s x 30 fps = 240 frames), and thus will look accelerated. The only solution is to either convert the test-files to the same fps beforehand in an external tool or to add a Speed Effect strip.</p></li>
</ol>
<div class="figure align-default" id="id16">
<a class="reference internal image-reference" href="edit\basic-techniques\img/time_properties/time_properties_3.png"><img alt="Strips" src="edit\basic-techniques\img/time_properties/time_properties_3.png" /></a>
<p class="caption"><span class="caption-text">Figure 3: Strips (24 fps and 30 fps) added to project with 30 fps.</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="2">
<li><p>What about the other strip types?  For an Image strip, the default Duration is 26 frames. For a text field it is 25 frames, independent of the fps? These values are quite arbitrary and seem to be wired in. The Duration for these fields is also somewhat virtual. It seems redundant to create 300 identical frames to have a still image last for 10 seconds. See section &lt;a href=”#still_offset”&gt;Still Offset&lt;/a&gt; for an explanation. What about a Sound strip? An audio file has no frames; only sampled data (see post [Audio Volume](audio_volume.md) for an introduction). I’ ll cover this in a later post.</p></li>
<li><p>You can change the UI field <cite>Duration</cite>, either by entering the number of frames, by dragging the strip handles or by entering Offsets (see figure 4 ).</p></li>
</ol>
<div class="figure align-default" id="id17">
<a class="reference internal image-reference" href="edit\basic-techniques\img/time_properties/time_properties_4.svg"><img alt="strips" src="edit\basic-techniques\img/time_properties/time_properties_4.svg" /></a>
<p class="caption"><span class="caption-text">Figure 4: Strips with different Offsets as a result of changing Duration or dragging handles.</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>Decrease the duration by entering a number smaller than the original duration. A <cite>Strip Offset End</cite> is inserted and the Offset is shown as a small bar (if enabled with View &gt; Show Offsets). Without the Offset bars, you can’t really see that the strip has been trimmed.</p></li>
<li><p>Increase the duration by entering a number greater than the original duration. You’ll notice that there is something special about this situation. You want to show more frames than that there really are. It’s visually indicated by an empty bar end. In the preview window you can see that the last fame is repeated as a “still” image. And this is exactly what the non-exposed Python field <cite>frame_still_end</cite> is used for.</p></li>
<li><p>Dragging the right strip handle will decrease (drag left) or increase (drag right) the duration in the same manner as above.</p></li>
<li><p>Dragging the left strip handle will increase (drag left) or decrease (drag right) the duration in the same manner as above but for the offset fields <cite>frame_still_start`and `Strip Offset Start</cite>.</p></li>
</ul>
<p><em>3. End</em></p>
<p>End/frame_final_end: the actual (e.g. edited) last moment of a strip.</p>
<ol class="arabic simple">
<li><p>The <cite>End</cite> field is not editable. This seems perhaps logical because the <cite>Ènd</cite> of a strip equals the <cite>Start</cite> + <cite>Duration</cite>. Right? Apparently not, see for example fig 2. If you look closely at table 1, you will see that <cite>Start</cite> and <cite>Duration</cite> have two versions in the Python API. The <cite>End</cite> field has only one version: frame_final_end. The <cite>Start`field in the UI refers to the unaltered start -with no trimming for example-  while the `Duration`and `End</cite> fields refer to the actual duration and end of the strip, as you can read off from the timeline. So, the <cite>End</cite> field is indeed the sum of <cite>frame_final_start`+ `frame_final_duration</cite> but the <a href="#id1"><span class="problematic" id="id2">`</span></a>frame_final_start`is not exposed in the side panel.</p></li>
<li><p>But, there is no good reason why the <cite>End</cite> field should not be editable. If changing the <cite>Duration</cite> changes the <a href="#id3"><span class="problematic" id="id4">`</span></a>End`field, the reverse could/should also be the case.</p></li>
<li><p>Also, don’t mix the concepts of “End” field and “Last” field. You can see the latter when you select the right handle of the strip (see for example figure 3). As you can see: End = last + 1. The <cite>End</cite> field refers to the last moment of the last frame which is the same as saying that it points to the beginning of the next frame. The relationship between last frame and End is similar to the timeline of a calendar year. December is the last month. The end of this year is the last moment of December or the beginning of the next year.</p></li>
</ol>
<p><em>4. Strip Offset Start/End</em></p>
<p>There are three kind of Offset fields: Strip Offset, Hold Offset and Still Offset. The names are a bit strange and point to their function. s said before, the Still Offset fields are not exposed in the Strip Properties.</p>
<ol class="arabic simple">
<li><p>Explain the name</p></li>
<li><p>Changing by entering value or dragging</p></li>
<li><p>Could be negative</p></li>
<li><p>Different image of the strip</p></li>
</ol>
<p><em>5. Hold Offset Start/End</em></p>
<p>&lt;a name=”still_offset”&gt;&lt;/a&gt;
<em>6. Still Offset Start/End</em></p>
<p><em>8. Current frame</em>
So far, so good. But, let’s take a closer look (see figure 2a). The field <cite>Current Frame</cite> indicates 0 (zero) while the play head is at frame 5. A litlle awkward. But, OK. No big deal! <cite>Current Frame</cite> means the position of the play head relative to the start of the active strip. So, the frame counting within the strip starts at 0.</p>
<p>Exercise</p>
<p>Let’s try a little exercise. You want to move strip time_code.001 from fig 3 to start at the same position as time_code.mp4, which is frame 12. How should you do it? I know: you could place the play head at frame 12, select the top strip and press Shift - S to snap the strip to the current frame. Or you can eye-ball it by dragging. But neither of these methods is very accurate on a large timeline. Also, to make our case: let’s do the exercise with the Time panel of the UI.</p>
<p>The most obvious but wrong way is to change the strip’s <cite>Start</cite> field to frame 12. This will actually move the strip further away. You have to set the actual start field. Doing it in code will also result in an error.</p>
<blockquote>
<div><p>strip_bottom = bpy.context.scene.sequence_editor.sequences_all[‘time_code.mp4’]
strip_top = bpy.context.scene.sequence_editor.sequences_all[‘time_code.001’]
strip_top.frame_final_start = strip_bottom.frame_final_start    #wrong!</p>
</div></blockquote>
<p>The code above will align the top strip with the bottom one, but unfortunately by decreasing the <cite>Strip Offset Start</cite>. This is not what you want. The <cite>Start</cite> field should be reduced by 3 frames (the difference between the actual start of both strips). And that brings us to the last confusion in this section? How can you calculate the difference between the actual starts. One technique is the following. Place the play head at the actual start of the top strip (the frame indicated when you select the left handle). Select then the bottom strip. The difference is shown in the UI field <cite>Current Frame</cite>. This field does not mirror the current frame in the timeline (this is shown above the play head) but the (current) frame in the actual strip where the play head is positioned.</p>
<p># Negative offsets
To recapitulate:</p>
<blockquote>
<div><p>You can increase the duration; either by dragging the right handle or by increasing the Duration time code in the side panel. But of course, then your strip in the timeline will reference non-existing frames in the file, so the last frame is extended (you’ll get a still image). Strangely enough, you can also drag the left handle to the left. This will increase the duration but apparently not the start position.The newly created frames will also reference non-existing counterparts in the file, so the first image is extended.</p>
</div></blockquote>
<p>## 3 Cut &amp; Hold cut (or is it spli see doc <a class="reference external" href="https://docs.blender.org/manual/en/dev/video_editing/sequencer/editing.html">https://docs.blender.org/manual/en/dev/video_editing/sequencer/editing.html</a>)</p>
<p>The <cite>Split/Cut</cite> command splits the selected strip in two at the current frame. This will result in two strips which use the same source, fitting the original strip’s timing and length.</p>
<p>The <a href="#id5"><span class="problematic" id="id6">`</span></a>Split/Cut Hold`does more or less the same but you will not be able to drag the endpoints to show the frames past the split of each resulting strip. The relative position of the cut is stored in the fields <a href="#id7"><span class="problematic" id="id8">`</span></a>Hold offset start`for the right  strip and <a href="#id9"><span class="problematic" id="id10">`</span></a>Hold Offset End`for the left strip.</p>
<p>From the [documentation](<a class="reference external" href="https://docs.blender.org/manual/en/dev/video_editing/sequencer/sidebar/strip.html#time">https://docs.blender.org/manual/en/dev/video_editing/sequencer/sidebar/strip.html#time</a>):</p>
<ol class="arabic simple">
<li><p>Start: Changes the starting frame number of the strip, which is the same as selecting and moving the strip.</p></li>
<li><p>Duration: Changes the length, in frames of the strip. This works by changing the end frame, which is the same as selecting and moving the strip’s right handle.</p></li>
<li><p>End: Specifies the ending time and ending frame number for the strip.</p></li>
<li><p>Strip Offset Start/End: Can be used to either extend the strip beyond the end frame by repeating the last frame. Or it can be used to shorten the strip, as if you were cropping the end frame. This is the same as adjusting the strip handles.</p></li>
<li><p>Hold Offset Start/End: Offset of the uncut strip content.</p></li>
<li><p>Current Frame: Position of the Playhead relative to the start of the active strip.</p></li>
</ol>
<p>nine time codes: frame_start, frame_duration, frame_final_duration, frame_final_start, frame_final_end, frame_offset_start, frame_offset_end, frame_still_start, frame_still_end.</p>
<p>The strip from fig. 1 was originally positioned starting at frame 39, but, due to some trimming and other operations starts now actually at frame 50. The actual duration is 12 frames. The play head is positioned at frame 55, which is the current frame 5, relative to the strip. Table 1 shows all 11 timecodes with their respective values. We will cover them in depth in the following sections.</p>
<p>## 1. The timeline
As you can see from fig. 1, the timeline codes are given in so called SMPTE-timecodes (first code) and frame numbers (second field). A SMPTE-timecode is a standard format, adopted by the Society of Motion Picture and Television Engineers (SMPTE) in the late 1960’s. It is in the format of HH:MM:SS:FF.</p>
<p>As a video editor, you probably are most interested in the SMPTE-timecode. It seems more natural to refer to a video fragment with a time indication, e.g. 00:01:15:10 or 1’ 15’’ and 10 frames than with a frame number, e.g. frame 55. Blender, however, is in the first place a 3D modeling tool where framenumbers are much more common.</p>
<p>Also don’t make the mistake to think that timecode is equal to time. For modern video, all time information, you’ll get is the timestamp at the start of the recording and the duration in frames of the video. So, the time codes should be calculated.</p>
<p>As the name implies, the timeline represents time (seconds). But, because the unit of a video clip (or strip in Blender talk) is one frame, the timeline is sometimes labeled in frames or a combination of time and frames. For example, in Blender you can choose to show the timeline in seconds or in frames. But, even the “seconds”-view is in fact a combination. The time code 01:21+11 indicates “1 minute and 21 seconds and 11 frames”. Because each project has a frame-per-seconds <cite>fps</cite> parameter, you can always derive one code from the other. In a 30 fps project:</p>
<ul class="simple">
<li><p>frame 155 is at time 115/30 = 3.8333 seconds or in Blender notation: 00:03+25.</p></li>
<li><p>time 2.5s falls within frame  2.5 * 30 = 75.</p></li>
</ul>
<p>With the following code, you can print the different time codes that Blender uses internally (see [Script Editor](script_editor.md) for an introduction to scripting). For this example, I have dragged the left handle of figure 1 to frame 0 and the right handle to frame 39; extending the original clip with 5 + 5 frames.</p>
<blockquote>
<div><p>strip = bpy.context.scene.sequence_editor.active_strip
print(“frame_start: “, strip.frame_start)
print(“frame_duration: “, strip.frame_duration)
print(“frame_final_duration: “, strip.frame_final_duration)
print(“frame_final_start: “, strip.frame_final_start)
print(“frame_final_end: “, strip.frame_final_end)
print(“frame_offset_start: “, strip.frame_offset_start)
print(“frame_offset_end: “, strip.frame_offset_end)
print(“frame_still_start: “, strip.frame_still_start)
print(“frame_still_end: “, strip.frame_still_end)</p>
</div></blockquote>
<p>The result is:</p>
<blockquote>
<div><p>frame_start:  5
frame_duration:  30
frame_final_duration:  40
frame_final_start:  0
frame_final_end:  40
frame_offset_start:  0
frame_offset_end:  0
frame_still_start:  5
frame_still_end:  5</p>
</div></blockquote>
<p>Please note, the value of  <cite>frame_still_start</cite> and <cite>frame_still_end</cite>. You should interpret these as offsets to the original start and end. Have you ever wondered why you can add a duration to a still image? When you import a still image in the timeline, the default duration is set to 26. But of course, there is only one frame (it should be a very big waste of storage to copy the same image for 24 more frames). The solution is the field <cite>frame_still_end</cite>. Below you’ll find the result of the above code run on a fresh imported still image.</p>
<blockquote>
<div><p>frame_start:  0
frame_duration:  1
frame_final_duration:  26
frame_final_start:  0
frame_final_end:  26
frame_offset_start:  0
frame_offset_end:  0
frame_still_start:  0
frame_still_end:  25</p>
</div></blockquote>
<p>The original frame duration is 1. The final duration is 26 frames; from frame 0 (<cite>frame_start</cite>) until <cite>frame_start</cite> + offset <cite>frame_still_end</cite> = frame 25. The amount of 26 frames seems to be hard-coded into Blender. The number of 26 seems a bit awkward and probably meant to be 25; which is more of a standard frame rate.</p>
<p>!! frame current is frame_display = scene.frame_current - frame_final_start; convert smpte_from_frame(frame_display)</p>
<p>with effect strip : speed control, color, text, adjustment layer (duration=25 in fps = 30) : only channel, start, duration, end, current frame)4 (not offsets)</p>
<p>sound files has the same layout as video
idem for image but duration is 26 frames</p>
<dl class="simple">
<dt>{{&lt; carousel</dt><dd><p>“/images/time_properties/time_code_1a.png”
“/images/time_properties/time_code_1b.png”
“/images/time_properties/time_code_1c.png”</p>
</dd>
</dl>
<p>&gt;}}
Figure 1: Simple strip with no cutting or trimming.</p>
<p>&lt;!–{{&lt; figure class=”d-block w-100” src=”/images/time_code/time_code_1a.png” caption=”Figure 1: Simple strip with no cutting or trimming.” &gt;}}–&gt;</p>
<p>When you add a strip to the timeline, the field <cite>Start</cite> is set to the frame number of the play head. The <cite>Duration</cite> is filled in with the number of frames of the strip and therefore is the <cite>End</cite> also fixed. The <a href="#id11"><span class="problematic" id="id12">`</span></a>Current Frame`is set to zero. That’s all!</p>
<ol class="arabic simple" start="5">
<li><p>As a video editor, you probably are most interested in the SMPTE-timecode. It seems more natural to refer to a video fragment with a time indication, e.g. 00:01:15:10 or 1’ 15’’ and 10 frames than with a frame number, e.g. frame 55. Blender, however, is in the first place a 3D modeling tool where frame numbers are much more common</p></li>
</ol>
<p>from Miadim
Strip Offset frame_offset: Virtually modifies the input media time. It’ll tell to Blender the media is shorter or longer. Values below 0 means the duration is artificially extended and the first/last frame is used to fill this extra time. frame_start is changed.</p>
<p>Hold offset animation_offset: Trims the media by the start or by the end, preserving the frame_start in the VSE. The sequence will still start at the same frame, but its duration will change. Values cannot be below 0.</p>
<p><a class="reference external" href="https://docs.blender.org/manual/en/dev/video_editing/sequencer/editing.html">https://docs.blender.org/manual/en/dev/video_editing/sequencer/editing.html</a></p>
<p>And there are more questions. What about audio?  Let’s first tackle the problem of trimming and cutting.</p>
<p>## 2. Strip with left and/or right trimming</p>
<p>Figure 3 shows a typical timeline with one strip of 30 frames (or seconds if you like). The original strip started at frame 5 and ended at frame 35. But, there has been some trimming, so that the actual strip - the one that you see in the timeline - starts at frame 12 and ends at frame 32. You can trim a strip by dragging the left and/or right handle or by changing the <cite>Strip Offset Start</cite> or <cite>Strip Offset End</cite> field in the Time panel. Or by cutting the strip, but this brings us into a new unknown territory (see section 3).</p>
<p>![fig 3](/images/time_code.svg)Figure 3: Time codes for a trimmed strip in Blenders’s VSE.</p>
<p>You can find the same time codes with different names or interpretation in the Properties panel of the strip (see figure 2) and the Python interface. And here comes the confusion! The UI <cite>Start</cite> field is the same as the <cite>frame_start</cite> Python field and refers to the Start location of the original, untrimmed or uncut strip. From the UI perspective this is confusing because you “see” the strip starting at a different location than indicated in the <cite>Start</cite> field. The UI <cite>Start</cite> field states that the strip starts at frame 5; which is the start position of the original strip and which you can also derive from the Offset Overlay line. But the actual strip (the one that you see) starts at frame 1. This is also visible as a number if you select the left handle. This is the Python <cite>frame_final_start</cite> field but that field isn’t exposed in the panel (as mentioned, you could see it if you select the left handle).</p>
<p>The UI <cite>Duration</cite> and <cite>End</cite> field then resembles the actual situation. The original strip had a duration of 30 frames (= the Python <cite>frame_duration</cite>  field), but the actual (trimmed) strip is only 15 frames long (= Python <cite>frame_final_duration</cite> field). So, the UI <cite>Duration</cite> is not the same as the Python <cite>frame_duration</cite> field. The same holds for the <cite>End</cite> field. This is asking for trouble.</p>
<p>![fig 3](../../static/images/time_code_2.png)Figure 3: time_code.mp4 (bottom) is the strip from fig 1. time_code.001 is a different strip with different start and offsets.</p>
<p>Start = N/A (side panel) = frame_final_start (Python)
Baseline Start = Start (side panel) = frame_start(Python)</p>
<p>Duration = Duration (side panel) = frame_final_duration (Python)
Baseline Duration = N/A (side panel) = frame_duration (Python)</p>
<p>End = End (side panel) = frame_final_end (Python)
Baseline End = N/A (side panel) = N/A (Python)</p>
<p>Strip Offset Start: changing this value will recalculate the Start and Duration fields. The End field is left unchanged.
Strip Offset End: changing this value will recalculate the End and Duration fields. The Start field is left unchanged.
Hold Offset Start: changing this value will leave the Baseline Start fixed (hold) and will recalculate/decrease the Duration and End fields.</p>
<p>The Hold Offset values seems to have the same effect as the Strip Offset values when applied (incrementing/decrementing) to a regular strip.</p>
<p>However, the Strip Offset values are used to accomplish the effect of splitting (soft cut) a strip. And, the Hold Offset values are used for a hard cut (Hold split).</p>
<p>But what’s the difference? In both cases, the original strip could be recreated by zeroing out the Strip Offset or Hold Offset values. The difference seems to lay in the effect of dragging the strip handles and the visual overlay bars. The split command (soft cut) will generate overlay bars and dragging the handles will increase/decrease the strip bar and the overlay bars. The Hold Split (hard cut) command will not generate overlay bars and dragging the handles will create duplicate frames.  There seems also to be a difference when combining Strip Offset with Hold Offset values.</p>
<blockquote>
<div><p>as Strip Offset End</p>
</div></blockquote>
<p>(Start = Baseline Start + Strip Start Offset)
(Duration = )</p>
<ul class="simple">
<li><p>increment value (e.g. +3): (Original) Start and (Final) End remain unchanged. (Final) Start is incremented (+3) and (Final) Duration is decremented (-3). The (Final) Duration cannot become 0; one frame should remain visible). The Strip Bar Start changes with the (Final) Start and an Overlay bar is added: from Original Start to Final Start, indicating that the strip is shortened. This seems normal behavior.</p></li>
<li><p>decrement value: reverses the effect of the increment operation above BUT the Strip Offset Start value can become negative. The (Final) Start is before the (Original) Start.The (Final) Duration is increased; End is unchanged. Overlay added: from (Final) Start to (Original) Start which means that the overlay runs within the strip. Because the strip starts before the original start, there are no frames available and the first frame is duplicated. There is no change in color of the Strip Bar to indicate this.</p></li>
<li><p>Drag left strip handle to the right: same behavior as increment value. The Strip Offset Start value is incremented.</p></li>
<li><p>Drag left strip handle to the left: reverses the effect from drag to right BUT you can drag handle before (Original) Start. This resembles (but is not equal) the effect of decrementing the Strip Offset Start value. However, it is the field Still Offset Start (frame_still_start)that is changed. The color of the Strip Bar indicates that the first frame is duplicated.</p></li>
</ul>
<p>Strip Offset End</p>
<ul class="simple">
<li><p>behaves in the same manner as Strip Offset Start. The Offset cannot be incremented beyond the first frame.</p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="adding/adding.html" class="btn btn-neutral float-right" title="2.2.1. Adding" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../timeline/scrub/scrub.html" class="btn btn-neutral float-left" title="2.1.3. Scrub" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright This page is licensed under a CC-BY-SA 4.0 Int. License..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>