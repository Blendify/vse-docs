

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2.1.1. Volume level &mdash; VSE 2.93 documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="2.1.2. Audacity" href="../audacity/audacity.html" />
    <link rel="prev" title="2.1. Edit your sound" href="../sound.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> VSE 2.93 documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../setup/setup.html">1. Setup your project</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../edit.html">2. Edit your project</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../sound.html">2.1. Edit your sound</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">2.1.1. Volume level</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#relationship-between-volume-level-value-and-loudness">Relationship between Volume level value and loudness</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-calculate-the-db-value-in-blender-python">How to calculate the dB value in Blender Python?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../audacity/audacity.html">2.1.2. Audacity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../edit.html#timeline-basics">2.2. Timeline basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../edit.html#editing-basics">2.3. Editing basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../edit.html#effects">2.4. Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../edit.html#sound">2.5. Sound</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../edit.html#color-grading">2.6. Color grading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../render/render.html">3. Render your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workflow/workflow.html">4. Specific workflows</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">VSE 2.93 documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../edit.html"><span class="section-number">2. </span>Edit your project</a> &raquo;</li>
        
          <li><a href="../sound.html"><span class="section-number">2.1. </span>Edit your sound</a> &raquo;</li>
        
      <li><span class="section-number">2.1.1. </span>Volume level</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/edit/sound/measuring/volume.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="volume-level">
<h1><span class="section-number">2.1.1. </span>Volume level<a class="headerlink" href="#volume-level" title="Permalink to this headline">¶</a></h1>
<p>Every program that works with audio has some sort of volume slider. And, they all have different meanings! In Blender, you can find it as a Property of the Sound Strip. It is a number between 0 and 100. A value &gt; 1 will amplify the sound; a value &lt; 1 will decrease the sound level. Simple, isn’t it? But how loud is a volume level of 0.5? Is it half as loud as 1.0? And what about the max value of 100? Really? One hundred?</p>
<div class="section" id="relationship-between-volume-level-value-and-loudness">
<h2>Relationship between Volume level value and loudness<a class="headerlink" href="#relationship-between-volume-level-value-and-loudness" title="Permalink to this headline">¶</a></h2>
<p>You can calculate the gain or loss in decibels (dB) with the following formula:</p>
<ul class="simple">
<li><p>dB = 20 x log (volume level)</p></li>
<li><p>volume level = antilog (dB/20)</p></li>
</ul>
<p>So, if you decrease the volume level to 0.5, this will result in a loss of -6 dB. Increasing the volume level to 100 will result in a gain of 20 x log(100) = 40 db. You can use the antilog function (10&lt;sup&gt;x&lt;/sup&gt;) of a calculator to do the inverse: antilog(-6dB/20) = 0.5012.</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Decibels versus Volume level</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 21%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>db loss/gain</p></th>
<th class="head"><p>-40</p></th>
<th class="head"><p>-30</p></th>
<th class="head"><p>-20</p></th>
<th class="head"><p>-10</p></th>
<th class="head"><p>-6</p></th>
<th class="head"><p>0</p></th>
<th class="head"><p>+6</p></th>
<th class="head"><p>+10</p></th>
<th class="head"><p>+20</p></th>
<th class="head"><p>+30</p></th>
<th class="head"><p>+40”</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Volume Level</p></td>
<td><p>0.01</p></td>
<td><p>0.0316</p></td>
<td><p>0.1</p></td>
<td><p>0.316</p></td>
<td><p>0.501</p></td>
<td><p>1</p></td>
<td><p>1.995</p></td>
<td><p>3.162</p></td>
<td><p>10</p></td>
<td><p>31.62</p></td>
<td><p>100</p></td>
</tr>
</tbody>
</table>
<p>According to psychological research, perceived loudness is doubled every 10 dB. So, to make a sound twice as loud, you have to set the volume level to antilog(+10dB/20) = 3.16. To reduce the perceived sound to half, you have to decrease the volume level to antilog(-10dB/20) = 0.316.</p>
<p>Remember that decibel is not a linear but a logarithmic scale. This is the reason of the asymmetrical Volume slider (0 - 100) instead of 0 - 1. If you set the slider to +100, you’ll increase the loudness with 40 dB. To decrease the loudness with the same amount, you’ll have to set the volume to 0.01. A handy conversion table can be found at <a class="reference external" href="https://en.wikipedia.org/wiki/Decibel">Wikipedia</a>.</p>
<p>When a sound is digitized, the analog sound wave is sampled at discrete moments in time and the amplitude (the loudness) of the wave is stored. Two concepts are very important:</p>
<ul class="simple">
<li><p>Sample rate: a typical sample rate is 44.100 Hz (audio CD quality), which means that 44100 samples per second are taken. More samples results in better quality but also higher storage needs.</p></li>
<li><p>Bit depth:  at each sample the amplitude of the analog sound wave is converted to a voltage that is stored in a number, typically a 16 or 24 bit integer. Because a 16 bit integer has only 2&lt;sup&gt;16&lt;/sup&gt; = 65536 values, there will be a maximum amplitude that can be represented. These numbers are converted to a floating point number between -1 and +1. Amplitudes that exceed these thresholds (-1 or +1) will be clipped at -1 or +1  and result in distortion.</p></li>
</ul>
<p>The volume or loudness of a sound is a perceptual/psychological phenomenon. As such, the loudness of a sound is influenced by many factors: the amplitude of the sound wave but also the frequency (bass tones need more power), the environment (e.g. distance to the sound source), the habituation of the listener, … To simplify the following discussion, we reduce loudness (a psychological phenomenon) to the amplitude or voltage of the sound wave (a physical phenomenon).</p>
<p>The decibel scale is a relative scale; it’s the ratio of a sound compared to some reference sound. For digital sound the reference is a sound with an amplitude of +1V or the maximum amplitude that can be stored with the chosen bit depth. Because of this definition - dB = log(sample voltage/1 V) - the dB value of a sample voltage = 1V is zero, because log(1/1) = 0. Zero dB is thus the maximum sound level we can have without distortion. Decreasing the sound level will result in a negative dB.</p>
</div>
<div class="section" id="how-to-calculate-the-db-value-in-blender-python">
<h2>How to calculate the dB value in Blender Python?<a class="headerlink" href="#how-to-calculate-the-db-value-in-blender-python" title="Permalink to this headline">¶</a></h2>
<p>The attached blend-file contains a Python script to calculate the dB value of a sound strip, as well as some other sound-parameters. The code is based on [Snuq’s VSEQF-addon](<a class="reference external" href="https://github.com/snuq/VSEQF">https://github.com/snuq/VSEQF</a>) (vu_meter.py). As example we use Blender’s open movie [Spring](<a class="reference external" href="https://www.youtube.com/watch?v=WhWc3b3KhnY">https://www.youtube.com/watch?v=WhWc3b3KhnY</a>).</p>
<p>You first need a handle to the selected audio strip and the sound data that it contains. Because strip properties (eg Volume) can be animated, we need access to the animated data blocks which are continuously updated in the dependency graph for the current scene and view layer.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">bpy</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="n">strip</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">sequence_editor</span><span class="o">.</span><span class="n">active_strip</span>
<span class="n">depsgraph</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">evaluated_depsgraph_get</span><span class="p">()</span>
<span class="n">sound</span> <span class="o">=</span> <span class="n">strip</span><span class="o">.</span><span class="n">sound</span><span class="o">.</span><span class="n">evaluated_get</span><span class="p">(</span><span class="n">depsgraph</span><span class="p">)</span><span class="o">.</span><span class="n">factory</span>
</pre></div>
</div>
<div class="section" id="db-value-for-the-whole-strip">
<h3>dB value for the whole strip<a class="headerlink" href="#db-value-for-the-whole-strip" title="Permalink to this headline">¶</a></h3>
<p>There are quite a few measures. The most used are:</p>
<ul class="simple">
<li><p>Peak value: what is the highest/lowest dB value in the strip. This is what you see in Volume Meter(VU-meter).</p></li>
<li><p>RMS (Root-Mean-Squared): the average dB of the whole strip.</p></li>
</ul>
<p>First, we need access to the sampled data. This is a two dimensional numpy float array. The first dimension is the number of samples. The second is the number of channels (1 for mono, 2 for stereo). The values are floating point numbers between 0 - 1.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">max</span> <span class="o">=</span> <span class="n">sound</span><span class="o">.</span><span class="n">data</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="nb">min</span> <span class="o">=</span> <span class="n">sound</span><span class="o">.</span><span class="n">data</span><span class="p">()</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

<span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">max</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">min</span><span class="p">):</span>
   <span class="n">peak</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">max</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
   <span class="n">peak</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">min</span><span class="p">)</span>

<span class="n">db</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">peak</span><span class="p">)</span>
</pre></div>
</div>
<p>The data()-method of the Sound-object returns the sampled data for the entire strip, even if the strip is trimmed and without the Volume-level applied. In other words, these are the raw sampled data. The peak value of a sound, however, is sometimes not a good estimate of the loudness of the sound. We need some kind of average. Because a sound-wave contains positive and negative sample values, a simple average will cancel out to about zero-level. A RMS value is the solution. Each sample value is squared (eliminating the negative numbers), then the mean (average) of these squares is calculated and reduced again to the original level with a square root.</p>
<p>Because the sampled data are contained in a numpy array, the code is relatively simple.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">samples</span> <span class="o">=</span> <span class="n">sound</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">samples</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">rms</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="n">db</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">rms</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="db-value-of-the-current-frame-or-a-section-of-a-strip">
<h3>dB value of the current frame or a section of a strip<a class="headerlink" href="#db-value-of-the-current-frame-or-a-section-of-a-strip" title="Permalink to this headline">¶</a></h3>
<p>Suppose, you want the dB value for the sound samples underneath the playhead/cursor in the timeline. Audio strips however work with time code, not frames. This is the cause of many misunderstandings. For example, if you have a MP4-file (video + audio) and you change the frame-per-second parameter of the scene, then the length of the video will change but not the length of the audio strip. The duration of an audio-strip can be calculated, based on the sample rate and the number of samples.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">sample_rate</span> <span class="o">=</span> <span class="n">sound</span><span class="o">.</span><span class="n">specs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">nr_of_samples</span> <span class="o">=</span> <span class="n">sound</span><span class="o">.</span><span class="n">length</span>
<span class="n">duration</span> <span class="o">=</span> <span class="n">nr_of_samples</span><span class="o">/</span><span class="n">sample_rate</span>
</pre></div>
</div>
<p>You would expect that sound.length is equal to len(sound.data()) but apparently that’s not true. For the open movie spring: sound.length = 20466685 and len(sound.data() = 20466688.</p>
<p>Because there are many more samples than frames, the sound data for each frame will contain several samples.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">nr_of_frames</span> <span class="o">=</span> <span class="n">strip</span><span class="o">.</span><span class="n">frame_final_end</span>
<span class="n">nr_of_samples_per_frame</span> <span class="o">=</span> <span class="n">nr_of_samples</span><span class="o">/</span><span class="n">nr_of_frames</span>
</pre></div>
</div>
<p>In case of the open movie “Spring”: duration = 464.1s, nr_of_frames = 11139 and nr_of_sample_per_frame = 1837.38. So, for each frame there are 1837 samples. To calculate the dB value underneath the playhead, we need the peak or rms value of these 1837 samples.</p>
<p>You can access these samples with the limit-method. This method works with timecode. So, you need the start and end time code of the current frame. These start and end times are relative to the selected strip. The first frame of the selected strip is zero. The current frame however is relative to the timeline. So, you have to subtract the strip.frame_start from the current frame. The calculation of the db or RMS value is the same as above.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">cur_frame</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">frame_current</span>
<span class="n">fps</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">render</span><span class="o">.</span><span class="n">fps</span> <span class="o">/</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">render</span><span class="o">.</span><span class="n">fps_base</span>
<span class="n">time_from</span> <span class="o">=</span> <span class="p">(</span><span class="n">cur_frame</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">strip</span><span class="o">.</span><span class="n">frame_start</span><span class="p">)</span> <span class="o">/</span> <span class="n">fps</span>
<span class="n">time_to</span> <span class="o">=</span> <span class="p">(</span><span class="n">cur_frame</span> <span class="o">-</span> <span class="n">strip</span><span class="o">.</span><span class="n">frame_start</span><span class="p">)</span> <span class="o">/</span> <span class="n">fps</span>
<span class="n">sound_cur_frame</span> <span class="o">=</span> <span class="n">sound</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">time_from</span><span class="p">,</span> <span class="n">time_to</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="the-decibel-value-of-a-trimmed-strip">
<h3>The decibel value of a trimmed strip<a class="headerlink" href="#the-decibel-value-of-a-trimmed-strip" title="Permalink to this headline">¶</a></h3>
<p>Because the Data method of a Sound object always returns all samples of the entire strip, you also have to use the limit-method (see above section 2.2) for a trimmed strip. [Trimming and cutting](../video/trimming.md) of a strip is extensively described in a separate post. Fig. 3 summarizes the different achor points.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">time_from</span> <span class="o">=</span> <span class="p">(</span><span class="n">strip</span><span class="o">.</span><span class="n">frame_final_start</span> <span class="o">-</span> <span class="n">strip</span><span class="o">.</span><span class="n">frame_start</span><span class="p">)</span><span class="o">/</span><span class="n">fps</span>
<span class="n">time_to</span> <span class="o">=</span> <span class="p">(</span><span class="n">strip</span><span class="o">.</span><span class="n">frame_final_end</span> <span class="o">-</span>  <span class="n">strip</span><span class="o">.</span><span class="n">frame_start</span><span class="p">)</span><span class="o">/</span><span class="n">fps</span>
<span class="n">sound_trimmed_strip</span> <span class="o">=</span> <span class="n">sound</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">time_from</span><span class="p">,</span> <span class="n">time_to</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="the-decibel-value-of-an-animated-strip">
<h3>The decibel value of an animated strip<a class="headerlink" href="#the-decibel-value-of-an-animated-strip" title="Permalink to this headline">¶</a></h3>
<p>The sound data contain the raw sampled data. To account for a changed volume level for the entire strip, you simply multiply this level with the raw data.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">max</span> <span class="o">=</span> <span class="n">sound</span><span class="o">.</span><span class="n">data</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">*</span> <span class="n">strip</span><span class="o">.</span><span class="n">volume</span>
</pre></div>
</div>
<p>The volume level of a strip, however can be changed and animated on a per frame basis. In section 2.2 you calculated the dB value for one frame. Thanks to the dependency graph, we can use the strip.volume value because this value will updated for that specific frame. So, to calculate the dB value for an entire animated strip, the easiest (but perhaps not the most efficient way) will be to loop through the strip frame by frame, set the playhead to that frame, retrieving the sound.data for the frame, multiplying it with the sound volume and cumulating these data into an array.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_rms</span><span class="p">(</span><span class="n">samples</span><span class="p">):</span>
   <span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">samples</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
   <span class="n">rms</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
   <span class="k">return</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">rms</span><span class="p">)</span>

<span class="n">animated_samples</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">strip</span><span class="o">.</span><span class="n">frame_final_start</span><span class="p">,</span> <span class="n">strip</span><span class="o">.</span><span class="n">frame_final_end</span><span class="p">):</span>
   <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">frame_set</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

   <span class="n">time_from</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span> <span class="o">-</span> <span class="n">strip</span><span class="o">.</span><span class="n">frame_start</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">fps</span>
   <span class="n">time_to</span>   <span class="o">=</span> <span class="p">(</span><span class="n">f</span> <span class="o">-</span> <span class="n">strip</span><span class="o">.</span><span class="n">frame_start</span><span class="p">)</span><span class="o">/</span><span class="n">fps</span>

   <span class="n">chunk</span> <span class="o">=</span> <span class="n">sound</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">time_from</span><span class="p">,</span> <span class="n">time_to</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
   <span class="n">chunk</span> <span class="o">=</span> <span class="n">chunk</span> <span class="o">*</span> <span class="n">strip</span><span class="o">.</span><span class="n">volume</span>


   <span class="n">animated_samples</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">animated_samples</span><span class="p">,</span> <span class="n">chunk</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;frame &quot;</span><span class="p">,</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">frame_current</span><span class="p">,</span><span class="s2">&quot;time:&quot;</span><span class="p">,</span> <span class="n">time_from</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">time_to</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span>
     <span class="s2">&quot;size:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">),</span> <span class="s2">&quot;cum&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">animated_samples</span><span class="p">),</span>
     <span class="s2">&quot;RMS:&quot;</span><span class="p">,</span> <span class="n">get_rms</span><span class="p">(</span><span class="n">chunk</span><span class="p">),</span> <span class="s2">&quot;volume:&quot;</span> <span class="p">,</span><span class="n">strip</span><span class="o">.</span><span class="n">volume</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;total rms: &quot;</span><span class="p">,</span> <span class="n">get_rms</span><span class="p">(</span><span class="n">animated_samples</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="some-useful-url">
<h3>Some useful URL<a class="headerlink" href="#some-useful-url" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.sawvideo.com/index.php/news/2020/measuring-sound-levels-volume-and-loudness">https://www.sawvideo.com/index.php/news/2020/measuring-sound-levels-volume-and-loudness</a></p></li>
<li><p><a class="reference external" href="http://www.sengpielaudio.com/TableOfSoundPressureLevels.htm">http://www.sengpielaudio.com/TableOfSoundPressureLevels.htm</a></p></li>
<li><p><a class="reference external" href="http://www.sengpielaudio.com/calculator-soundlevel.htm">http://www.sengpielaudio.com/calculator-soundlevel.htm</a></p></li>
<li><p><a class="reference external" href="http://sengpielaudio.com/calculator-gainloss.htm">http://sengpielaudio.com/calculator-gainloss.htm</a></p></li>
<li><p><a class="reference external" href="http://www.sengpielaudio.com/calculator-loudness.htm">http://www.sengpielaudio.com/calculator-loudness.htm</a></p></li>
<li><p><a class="reference external" href="http://sengpielaudio.com/calculator-levelchange.htm">http://sengpielaudio.com/calculator-levelchange.htm</a></p></li>
<li><p><a class="reference external" href="https://archive.org/details/fundamentalsofhe00yost/mode/2up">https://archive.org/details/fundamentalsofhe00yost/mode/2up</a></p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../audacity/audacity.html" class="btn btn-neutral float-right" title="2.1.2. Audacity" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../sound.html" class="btn btn-neutral float-left" title="2.1. Edit your sound" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright This page is licensed under a CC-BY-SA 4.0 Int. License..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>