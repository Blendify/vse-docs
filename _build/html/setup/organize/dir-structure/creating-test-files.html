

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>1.1.2. Creating test files &mdash; VSE 2.93 documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="1.1.3. Blender’s strip types" href="../strip-types/blender-striptypes.html" />
    <link rel="prev" title="1.1.1. Creating a directory structure" href="creating-directory-structure.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> VSE 2.93 documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../setup.html">1. Setup your project</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../organize-assets.html">1.1. Organize your assets</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="creating-directory-structure.html">1.1.1. Creating a directory structure</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.1.2. Creating test files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../strip-types/blender-striptypes.html">1.1.3. Blender’s strip types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../customize/customize-environment.html">1.2. Customize your environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extend/extend-environment.html">1.3. Extend your environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../edit/edit.html">2. Edit your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../render/render.html">3. Render your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../workflow/workflow.html">4. Specific workflows</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">VSE 2.93 documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../setup.html"><span class="section-number">1. </span>Setup your project</a> &raquo;</li>
        
          <li><a href="../organize-assets.html"><span class="section-number">1.1. </span>Organize your assets</a> &raquo;</li>
        
      <li><span class="section-number">1.1.2. </span>Creating test files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/setup/organize/dir-structure/creating-test-files.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-test-files">
<h1><span class="section-number">1.1.2. </span>Creating test files<a class="headerlink" href="#creating-test-files" title="Permalink to this headline">¶</a></h1>
<p>Sometimes you need a test video or test image with a specific resolution, duration or framerate and specific content, e.g. gradient color, TV test image, counter or time code. Here are some useful commands and programs to create test videos and images</p>
<p><strong>A. Generate test video with ffmpeg</strong></p>
<p>FFMPEG is a command line tool for handling (decode, encode, convert, …) video and audio files. It is used by many commercial and free software products, including Blender.  The core is the FFMPEG program, together with a video &amp; audio player (FFPLAY) and a stream analyzer (FFPROBE).</p>
<p>You can create a test video with the virtual input device <em>lavfi</em>. Because it’s a virtual device, you need to specify the force (-f) option.</p>
<p>The video source can be chosen from a variety of options; see <a class="reference external" href="http://ffmpeg.org/ffmpeg-filters.html#Video-Sources">ffmpeg documentation</a> under section 14.9: <em>allrgb, allyuv, color, haldclutsrc, nullsrc, pal75bars, pal100bars, rgbtestsrc, smptebars, smptehdbars, testsrc, testsrc2, yuvtestsrc</em>.</p>
<p>With <em>testsrc</em> for example you can generate a test video pattern, showing a color pattern, a scrolling gradient and a timestamp.</p>
<p>You can first try out the command with <em>ffplay</em> to preview the output.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ffplay</span> <span class="o">-</span><span class="n">f</span> <span class="n">lavfi</span> <span class="o">-</span><span class="n">i</span> <span class="n">testsrc</span><span class="o">=</span><span class="n">duration</span><span class="o">=</span><span class="mi">10</span><span class="p">:</span><span class="n">size</span><span class="o">=</span><span class="mi">1280</span><span class="n">x720</span><span class="p">:</span><span class="n">rate</span><span class="o">=</span><span class="mi">30</span>
</pre></div>
</div>
<video width="640" height="480" src="https://www.bogotobogo.com/FFMpeg/images/test_patterns/testsrc.mp4" controls></video><p>Figure 1: Output from FFMPEG command (see above)</p>
<p>If you are satisfied with the result, replace the <a href="#id1"><span class="problematic" id="id2">*</span></a>ffplay*command with <a href="#id3"><span class="problematic" id="id4">*</span></a>ffmpeg*and add the output file; eg test.mp4</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ffmpeg</span> <span class="o">-</span><span class="n">f</span> <span class="n">lavfi</span> <span class="o">-</span><span class="n">i</span> <span class="n">testsrc</span><span class="o">=</span><span class="n">duration</span><span class="o">=</span><span class="mi">10</span><span class="p">:</span><span class="n">size</span><span class="o">=</span><span class="mi">1280</span><span class="n">x720</span><span class="p">:</span><span class="n">rate</span><span class="o">=</span><span class="mi">30</span> <span class="n">test</span><span class="o">.</span><span class="n">mp4</span>
</pre></div>
</div>
<p>More commands and test formats can be found at <a class="reference external" href="https://www.bogotobogo.com/FFMpeg/ffmpeg_video_test_patterns_src.php">bogotobogo</a>).</p>
<p><strong>B. Generate a timecode overlay with FFMPEG</strong></p>
<p>Did you ever needed a video with the timecode embedded?</p>
<p><code class="docutils literal notranslate"><span class="pre">ffplay</span> <span class="pre">-i</span> <span class="pre">test.mp4</span> <span class="pre">-vf</span> <span class="pre">&quot;drawtext=text='timestamp:</span> <span class="pre">%{pts</span> <span class="pre">\:</span> <span class="pre">hms}':</span> <span class="pre">x=500:</span> <span class="pre">y=500:</span> <span class="pre">fontsize=32:fontcolor=yellow&#64;0.9:</span> <span class="pre">box=1:</span> <span class="pre">boxcolor=black&#64;0.6&quot;</span></code></p>
<p>This command will invoke the ffmpeg video player (ffplay). The input video is test.mp4. With the drawtext video filter, the timestamp is overlaid on the input video. The time format is specified with the pts parameter.</p>
<p>Replace the <em>ffplay*command with *ffmpeg</em> and add a output file to create a new video.</p>
<p>A more extensive introduction to the <cite>drawtext</cite> filter and the above mentioned ffmpeg command is given by <a class="reference external" href="https://ottverse.com/ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits/">Krishna Rao</a>.</p>
<p><strong>C. Generate a timecode overlay with Blender Python</strong></p>
<p>The ffmpeg command above does the job but is not very flexible. With the following <a class="reference external" href="https://gist.github.com/tin2tin/1eabb233bce24e78d2edf35cb5a435c8">Python script of Tin2Tin</a>, you can generate a timecode overlay very easily in Blender.</p>
<div class="figure align-center" id="id5">
<img alt="Test file from Python scriptExample of a complex timeline" src="../../../_images/test-files.png" />
<p class="caption"><span class="caption-text">Figure 2: Test file generated from Python script</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>To create the time code overlay, follow the next steps.</p>
<ol class="arabic simple">
<li><p>Open Blender, set the render parameters (resolution, frame rate, start and frame). The length of the created time code overlay is determined by the Start and End field in the Render panel.</p></li>
<li><p>Switch to the scripting workspace, create a new text file and copy the downloaded code into the script editor.</p></li>
<li><p>Run the code with the menu Text &gt; Run Script or Alt + P.</p></li>
<li><p>If you need this overlay for an existing video, you’ll have to render it out.</p></li>
</ol>
<p>If you want to customize the script, the time code text is assembled at line 53:</p>
<p><code class="docutils literal notranslate"><span class="pre">text_strip.text</span> <span class="pre">=</span> <span class="pre">str(bpy.utils.smpte_from_frame(i))</span></code></p>
<p>The variable <em>i</em> stands for the frame number (<em>Start &lt;= i &lt;= End</em>). This value is converted to a time code with the <cite>smpte_from_frame</cite> function. This function creates a text from the frame number with the format of HH:MM:SS:FF and follows hereby the standard of the Society of Motion Picture and Television Engineers (SMPTE). The text is positioned at 0.8 on the Y-axis (near the top of the window).</p>
<p>The magic of the script occurs between lines 37 - 60, which is essentially a loop of the variable <em>i</em> between <em>Start</em> and <em>End</em> of the project. For each value of <em>i</em>, a text strip is created (44-49) of exactly one frame; from <em>i</em> to <em>i+1</em> (38-42). The text property of that strip is then filled in and the strip is added to a list <cite>added_strips</cite> (31 and 60). At the end of this loop, all created text strips are grouped together into one meta strip (62-66). You can see the individual text strips if you tab into the meta strip.</p>
<p>This script gives you a lot of flexibility to customize the overlay. A few examples:
The overlay text should also contain the frame number.
<code class="docutils literal notranslate"><span class="pre">text_strip.text</span> <span class="pre">=</span> <span class="pre">&quot;Frame:</span> <span class="pre">&quot;</span> <span class="pre">+</span> <span class="pre">str(i)</span> <span class="pre">+</span> <span class="pre">&quot;</span> <span class="pre">-</span> <span class="pre">Time:</span> <span class="pre">&quot;</span> <span class="pre">+</span> <span class="pre">str(bpy.utils.smpte_from_frame(i))</span></code></p>
<p>The overlay text should be in the middle of the preview window
<code class="docutils literal notranslate"><span class="pre">text_strip.location[1]</span> <span class="pre">=</span> <span class="pre">0.5</span></code></p>
<p>A timecode should only be generated every 10 frames. (Use the modulo-operator (%) for this).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span>  <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">text_strip</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">text_strip</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">bpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">smpte_from_frame</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
<p>And, of course, the blender VSE could also be used, for example by adding a color strip for the background color.</p>
<p>Another approach, suggested by <a class="reference external" href="https://blender.stackexchange.com/questions/7904/how-can-i-make-dynamic-text-in-an-animation">Garrett</a>, is to create a 3D-text object and animate the content, based on the current frame.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">bpy</span>

<span class="n">scene</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="s1">&#39;Text&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">recalculate_text</span><span class="p">(</span><span class="n">scene</span><span class="p">):</span>
    <span class="n">time_code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">bpy</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">smpte_from_frame</span><span class="p">(</span><span class="n">scene</span><span class="o">.</span><span class="n">frame_current</span><span class="p">))</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="s1">&#39;Current time: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_code</span><span class="p">)</span>

<span class="n">bpy</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">frame_change_pre</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">recalculate_text</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Switch to the Layout workspace and add a text object. Customize the text object in terms of font, size, position, … to your liking.</p></li>
<li><p>Give your text object a name. The code above assumes the standard name “Text”.</p></li>
<li><p>Switch to the scripting workspace, create a new text file and copy the code from above into the script editor.</p></li>
<li><p>Run the code with the menu Text &gt; Run Script or Alt + P.</p></li>
<li><p>Switch back to the Layout workspace and move the play head. You will see that the text content is changed to something as “Current time: 00:00:00:12” depending on the position of the play head.</p></li>
<li><p>Make a test render. Change the camera position if needed.</p></li>
<li><p>If you need this clip in the Video Sequence Editor (VSE): create a new scene. Switch to the new scene and add a scene strip (Shift + A &gt; Scene).</p></li>
</ol>
<p>Attention: this scene strip will always start at time 0, no matter where you position the strip in the VSE. This could be handy, if for example, you want to show the time code relative to a specific strip.</p>
<p><strong>D. Placeholder image generators</strong></p>
<p>An image placeholder is a dummy image. There are several websites that can either provide you with the link to these images or give you the possibility to generate these images yourself on your computer. Of course, you can always save the online images behind the link.</p>
<p>For example, the URL <a class="reference external" href="http://via.placeholder.com/640x360">http://via.placeholder.com/640x360</a> will show you a placeholder image of 640x360 pixels in the browser, which you can save to your computer.</p>
<div class="figure align-center" id="id6">
<img alt="Test file from placeholder.com" src="http://via.placeholder.com/640x360" />
<p class="caption"><span class="caption-text">Figure 3: Test file from via.placeholder.com</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id7">
<img alt="Test file from placekitten.com" src="https://placekitten.com/640/360" />
<p class="caption"><span class="caption-text">Figure 4: Test file from placekitten.com</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>These placeholder images are mostly used in website design to create mockups of webpages (together with Lorem Ipsum generators for text). Search in Google for “image placeholder” to find other websites or generators.</p>
<p><strong>E. Useful websites</strong></p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://file-examples.com/">https://file-examples.com/</a>: This website is a service designed for developers, designers, testers. Various categories: video, audio, documents, images, …</p></li>
</ol>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../strip-types/blender-striptypes.html" class="btn btn-neutral float-right" title="1.1.3. Blender’s strip types" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="creating-directory-structure.html" class="btn btn-neutral float-left" title="1.1.1. Creating a directory structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright This page is licensed under a CC-BY-SA 4.0 Int. License..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>